{% extends "layout.html" %}

{% block styles %}
    {{super()}}
    <link rel="stylesheet" type="text/css" href="/static/vendor/slit/slit.css">
    <noscript>
        <link rel="stylesheet" type="text/css" href="/static/vendor/slit/slitNoJS.css">
    </noscript>
{% endblock styles %}


{% block main %}


<div id="top">
    {# top articles with jquery slider #}
    {# photos need to be preprocessed and refined #}


    <div id="Glide" class="glide ui container bug-fix">

        <div class="glide__arrows">
            <span class="glide__arrow prev" data-glide-dir="<">prev</span>
            <span class="glide__arrow next" data-glide-dir=">">next</span>
        </div>

        <div class="glide__wrapper">
            <div class="glide__track">
                <div class="glide__slide slider__slide">
                    <a href=""><div class="box" style="background-image: url(http://sspai.com/attachment/origin/2015/09/23/282810.png)"></div></a>
                </div>
                <div class="glide__slide slider__slide">
                    <a href=""><div class="box" style="background-image: url(http://sspai.com/attachment/origin/2015/09/06/279083.jpg)"></div></a>
                </div>
                <div class="glide__slide slider__slide">
                    <a href=""><div class="box" style="background-image: url(http://sspai.com/attachment/origin/2015/09/15/280817.jpg)"></div></a>
                </div>
            </div>
        </div>

        <div class="glide__bullets"></div>

    </div>


{# slit slider has a serious bug#}

</div>

{# TODO: redesign index page #}
{% endblock%}

{% block scripts %}
    {{super()}}

    <script>

$(document).ready(function() {
    if (matchMedia('only screen and (max-width: 768px)').matches) {
        console.log('hello');
        $('#Glide').glide({
            type: "carousel",
            paddings: 0,
            autoplay: 5000,
            animationDuration: 500,
        });
        $('#Glide').removeClass('bug-fix');
        // 避免加载时的bug带来的不良体验
    } else {
            $("#Glide").glide({
            type: "carousel",
            paddings: "20%",
            autoplay: 5000,
            animationDuration: 500,

        });
            $('#Glide').removeClass('bug-fix');
    };

});

// $(window).resize(function() {
//     if (matchMedia('only screen and (min-width: 768px)').matches) {
//         console.log('changing style');
//         $('#Glide').glide({
//             type: "slideshow",
//             paddings: "20%",
//             autoplay: 5000,
//             animationDuration: 500,
//         })
//     } else {
//             $("#Glide").glide({
//             type: "carousel",
//             paddings: 0,
//             autoplay: 5000,
//             animationDuration: 500,

//         });
//     };
// });



$('.special.cards .image').dimmer({
    on: 'hover'
});


</script>

{% endblock scripts %}